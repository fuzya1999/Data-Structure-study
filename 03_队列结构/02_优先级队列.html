<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
    //封装优先级队列
    function PriorityQueue() {
        //封装属性
        var items = []

        //封装一个新的构造函数，用于保存元素和元素的优先级
        function QueueElement(element,priority) {
            this.element = element;
            this.priority = priority;
        }

        //实现插入方法
        this.enqueue = function (element, priority) {
            //1.根据传入的元素，创建新的queueElement
            var queueElement =  new QueueElement(element, priority)

            //2.获取传入元素应该在正确的位置
            if (items.length ==0){
                items.push(queueElement);
            } else {
                var added = false;
                for (var i = 0; i < items.length; i++) {
                    //注意：这里是数字越小，优先级越高
                    if (queueElement.priority < items[i].priority) {
                        items.splice(i,0,queueElement);
                        added = true;
                        break;
                    }
                }
                //遍历完所有的元素，优先级都大于新插入的元素时，就插入到最后
                if (!added){
                    items.push(queueElement)
                }
            }





        }
        //2.从队列中删除前端元素
        PriorityQueue.prototype.dequeue = function () {
            return this.items.shift();
        }

        //3.查看前端元素
        PriorityQueue.prototype.front = function () {
            return this.items[0];
        }

        //4.查看队列是否为空
        PriorityQueue.prototype.isEmpty = function () {
            return this.items.length ==0;
        }

        //5.查看队列中元素个数
        PriorityQueue.prototype.size = function () {
            return this.items.length
        }
        //6.toString方法
        PriorityQueue.prototype.toString = function () {
            var nn = '';
            for (var i=0;i < items.length;i++) {
                nn += items[i].element+':'+items[i].priority+';'+'';
            }
            return nn;
        }

    }

//测试优先级
    var pq = new PriorityQueue();
    pq.enqueue('abc',5555)
    pq.enqueue('wdqw',1)
    pq.enqueue('sdf',775)
    pq.enqueue('vrte',57)
    pq.enqueue('erg',1000)
    alert(pq);
</script>
</body>
</html>
